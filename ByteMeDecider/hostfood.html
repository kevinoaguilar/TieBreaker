<!DOCTYPE html>
<html>
<head>
    <title>Host Food Session</title>
</head>
<body bgcolor="#7cc2ff">
    <font face="Arial">
    
    <!-- Top bar -->
    <div style="background-color: white; padding: 15px;">
        <table width="100%">
            <tr>
                <td><b style="font-size: 20px;">ByteMe Decider</b></td>
                <td align="right">
                    <a href="dashboard.html">Leave Session</a>
                </td>
            </tr>
        </table>
    </div>
    
    <br><br>
    
    <center>
        <div style="background-color: white; width: 500px; padding: 40px; border-radius: 10px;">
            <h1>üçï Food Session Ready!</h1>
            
            <div style="background-color: yellow; padding: 10px; border-radius: 5px;">
                <b>MODE: FOOD üçï</b>
            </div>
            
            <br><br>
            
            <div style="border: 3px dashed #4ecdc4; padding: 20px; background-color: #f8f9fa; border-radius: 10px;">
                <p>Share this code with your group:</p>
                <h1 id="groupCode" style="font-size: 40px; color: red; letter-spacing: 5px;">------</h1>
                <p>They can enter this on the dashboard to join</p>
                <button onclick="copyCode()" style="background-color: #4ecdc4; color: white; padding: 10px 20px; border: none; border-radius: 5px; font-weight: bold;">
                    Copy Code
                </button>
            </div>
            
            <br><br>
            
            <h2>Participants (1)</h2>
            
            <div id="participantsList" style="background-color: #f8f9fa; padding: 20px; border-radius: 10px;">
                <div style="background-color: white; padding: 10px; margin: 5px; border-left: 4px solid red; border-radius: 5px;">
                    You (Host) <span style="background-color: red; color: white; padding: 5px; border-radius: 5px; font-size: 12px;">HOST</span>
                </div>
                <p id="waitingMsg" style="color: gray;"><i>Waiting for others to join...</i></p>
            </div>
            
            <br>
            
            <button id="startBtn" disabled onclick="location.href='votefood.html'" style="background-color: gray; color: white; padding: 18px; width: 100%; border: none; border-radius: 10px; font-size: 20px; font-weight: bold;">
                Start Session
            </button>
            <p style="color: gray; font-size: 14px;">Need at least 2 people to start</p>
        </div>
    </center>
    
    </font>
    
    <script>
        // Make a random code
        function makeCode() {
            var code = Math.floor(Math.random() * 900000) + 100000;
            return code;
        }
        
        // Show code when page loads
        var myCode = makeCode();
        document.getElementById('groupCode').innerHTML = myCode;
        
        // Copy code
        function copyCode() {
            var code = document.getElementById('groupCode').innerHTML;
            navigator.clipboard.writeText(code);
            alert('Code copied: ' + code);
        }
        
        // Add person to list (not connected to real backend yet)
        function addPerson(name) {
            var list = document.getElementById('participantsList');
            var waiting = document.getElementById('waitingMsg');
            waiting.style.display = 'none';
            
            var newPerson = document.createElement('div');
            newPerson.style.backgroundColor = 'white';
            newPerson.style.padding = '10px';
            newPerson.style.margin = '5px';
            newPerson.style.borderLeft = '4px solid #4ecdc4';
            newPerson.style.borderRadius = '5px';
            newPerson.innerHTML = name;
            list.appendChild(newPerson);
            
            // Count people
            var people = list.getElementsByTagName('div');
            var count = people.length;
            document.querySelector('h2').innerHTML = 'Participants (' + count + ')';
            
            // Enable button if 2+ people
            if (count >= 2) {
                var btn = document.getElementById('startBtn');
                btn.disabled = false;
                btn.style.backgroundColor = '#ff6b6b';
            }
        }
        
        // Test - uncomment to see it work
        // setTimeout(function() { addPerson('Alex'); }, 3000);
        // setTimeout(function() { addPerson('Jordan'); }, 5000);
    </script>
</body>
</html>
